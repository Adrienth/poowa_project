{% extends 'base.html' %}

{% block header %}
<h1>{% block title %}The show searched{% endblock %}</h1>
{{super()}}
<a class="action" href="{{ url_for('search.search') }}">New search</a>
{% endblock %}

{% block content %}
<article class="result">
    <div class="flex-container">
        <div class="poster" style="flex-grow: 1">
            {% if show['poster_url'] %}
            <img src="{{ show['poster_url'] }}" style="width:165px;height:250px;float:center" alt="'{{ show['title'] }}' poster">
            {% else %}
            <img src="https://www.scenebyte.com/images/no_poster.jpg" style="width:165px;height:250px;float:center" alt="No poster available">
            {% endif %}
        </div>

        <div style="flex-grow: 7">
            {% if session['user_id'] %}
            {% if show['id'] in session['show_ids'] %}
            <a href="{{ url_for('search.rm_from_fav',show_id=show['id'], name=show['title'] ) }}" title="Remove '{{ show['title'] }}' from favourites" class="hearticon">
                <i class="fa fa-heart"></i>
            </a>
            {% else %}
            <a href="{{ url_for('search.add_to_fav',show_id=show['id'], name=show['title'] ) }}" title="Add '{{ show['title'] }}' to favourites" class="hearticon" >
                <i class="fa fa-heart-o"></i>
            </a>
            {% endif %}
            {% endif %}
            <header>
                <div>
                    <h1> <a style="text-decoration:none" href="{{ url_for('myshow.get_my_show', show_id=show['id']) }}"> {{ show['title'] }} </a> </h1>
                    <div class="about">First aired on {{ show['date'] }} | {{ show['vote_average'] }} <i class="fa fa-star gradient-icon"></i></div>
                </div>

            </header>
            <p class="body">{{ show['trunc_overview'] }}</p>
        </div>
    </div>
</article>
{% endblock %}

{% block show_results %}
<header><h1>Seasons</h1></header>
{% for season in seasons %}
<article class="result">
    <div class="flex-container">
        <div class="poster" style="flex-grow: 1">
            {% if season['poster_url'] %}
            <img src="{{ season['poster_url'] }}" style="width:165px;height:250px;float:center" alt="'{{ season['name'] }}' poster">
            {% else %}
            <img src="https://www.scenebyte.com/images/no_poster.jpg" style="width:165px;height:250px;float:center" alt="No poster available">
            {% endif %}
        </div>

        <div style="flex-grow: 7">
            <header>
                <div>
                    <h1> <a style="text-decoration:none" href="{{ url_for('myshow.get_my_season', show_id=show['id'], season_number=season['season_number']) }}"> {{ season['name'] }} </a> </h1>
                    <div class="about">First aired on {{ season['air_date'] }} | {{ season['episode_count'] }} episodes </div>
                </div>

            </header>
            <p class="body">{{ season['overview'] }}</p>
        </div>
    </div>
</article>
{% if not loop.last %}
<hr>
{% endif %}
{% endfor %}

{% endblock %}
